var SwalService=function(s){this.pendingSwal=[],s&&null!=s.showPendingMessage&&(this.showPendingMessage=s.showPendingMessage),this.initialize()};SwalService.prototype={currentSwal:null,showPendingMessage:!0,swalFirstCalled:!1,__swal:swal,pendingSwal:null,nextId:1,swal:function(){var s={args:arguments,id:this.nextId++};return this._swalWithId(s)},_swalWithId:function(s){return this.isSwalOpen()||this.isClosing?this.pendingSwal.push(s):(this.__swal.apply(null,s.args),this.currentSwal=s,this.swalFirstCalled||($(".sweet-alert").prepend('<span class="other-messages"></span>'),this.swalFirstCalled=!0)),this.refreshPendingText(),s.id},onClosed:function(){this.isClosing=!1,this.openNextSwal()},refreshPendingText:function(){this.showPendingMessage&&(0===this.pendingSwal.length?$(".other-messages").text(""):$(".other-messages").text(this.pendingSwal.length+" unread alerts"))},close:function(s){if(void 0===s||this.currentSwal&&this.currentSwal.id==s)this.__swal.close();else if(void 0!==s&&this.pendingSwal.length>0){for(var e,n=0;n<this.pendingSwal.length;n++)if(this.pendingSwal[n].id==s){e=n;break}void 0!==e&&(this.pendingSwal.splice(e,1),this.refreshPendingText())}},openNextSwal:function(){var s=this;if(s.pendingSwal.length>0){var e=s.pendingSwal.shift();s._swalWithId(e),Shiny.bindAll($(".sweet-alert"))}},isSwalOpen:function(){return null!=this.currentSwal&&null!=this.currentSwal},closeAndFireCallback:function(s,e){var n=this.currentSwal;(this.close(s),n&&n.args&&n.args.length>1&&"function"==typeof n.args[1])&&(0,n.args[1])(e)},initialize:function(){var s=this,e=this.__swal.close;this.__swal.close=function(){s.isClosing=!0,e(),s.currentSwal=null,setTimeout((function(){s.onClosed()}),400)}}};
